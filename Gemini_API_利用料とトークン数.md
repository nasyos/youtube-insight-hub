# Gemini API 利用料とトークン数

## 💰 Gemini APIの料金体系

### 無料プラン（Free Tier）

**制限**:
- 1分間あたり: 15リクエスト
- 1日あたり: 1,500リクエスト
- 1分間あたりのトークン数: 1,000,000トークン

**料金**: **無料**

---

### 有料プラン（Paid Tier）

**gemini-3-flash-preview モデル**:
- **入力**: $0.075 / 1Mトークン
- **出力**: $0.30 / 1Mトークン

**gemini-1.5-pro モデル**（参考）:
- **入力**: $1.25 / 1Mトークン
- **出力**: $5.00 / 1Mトークン

---

## 📊 このアプリでの使用量の目安

### 1回のチャンネル追加（`findChannel`）

**処理内容**:
- Gemini APIでチャンネル情報を検索
- Google Search grounding機能を使用

**推定トークン数**:
- **入力**: 約100-200トークン（プロンプト）
- **出力**: 約50-100トークン（JSONレスポンス）
- **合計**: 約150-300トークン

**推定料金**（有料プランの場合）:
- 入力: $0.0000075 - $0.000015（約0.00001円）
- 出力: $0.000015 - $0.00003（約0.00002円）
- **合計**: 約$0.00002 - $0.000045（約0.00003円）

**1回あたり**: ほぼ無料（0.00003円）

---

### 1回の動画スキャン（`scanChannel`）

**処理内容**:
- チャンネルの最新動画3件を取得
- 各動画を要約（200文字程度）
- 重要なポイント3つを抽出

**推定トークン数**:
- **入力**: 約200-400トークン（プロンプト）
- **出力**: 約500-1,000トークン（3件の要約 + JSON）
- **合計**: 約700-1,400トークン

**推定料金**（有料プランの場合）:
- 入力: $0.000015 - $0.00003（約0.00002円）
- 出力: $0.00015 - $0.0003（約0.0002円）
- **合計**: 約$0.000165 - $0.00033（約0.0002円）

**1回あたり**: ほぼ無料（0.0002円）

---

## 📈 月間使用量の目安

### 使用シナリオ例

**前提条件**:
- チャンネル数: 10個
- 1日1回スキャン
- 1か月 = 30日

**計算**:

1. **チャンネル追加**: 10回
   - トークン数: 10 × 300 = 3,000トークン
   - 料金: 約$0.0003（約0.04円）

2. **動画スキャン**: 10チャンネル × 30日 = 300回
   - トークン数: 300 × 1,400 = 420,000トークン
   - 料金: 約$0.099（約15円）

**合計**:
- **トークン数**: 約423,000トークン/月
- **料金**: 約$0.10（約15円）/月

---

## 💡 料金の目安（まとめ）

### 無料プランで使用する場合

- **料金**: **$0（無料）**
- **制限**: 1日1,500リクエストまで
- **このアプリの使用量**: 1日10-20リクエスト程度
- **結論**: **無料プランで十分**

### 有料プランで使用する場合

- **月間料金**: 約$0.10（約15円）
- **年間料金**: 約$1.20（約180円）
- **結論**: **非常に安価**

---

## 🔍 トークン数の確認方法

### 方法1: Google Cloud Consoleで確認

1. [Google Cloud Console](https://console.cloud.google.com) にアクセス
2. 「APIとサービス」→「使用量と請求額」を開く
3. 「Generative Language API」を選択
4. 使用量とトークン数を確認

### 方法2: Google AI Studioで確認

1. [Google AI Studio](https://aistudio.google.com/app/apikey) にアクセス
2. 「使用量と請求額」を開く
3. 使用量とトークン数を確認

### 方法3: APIレスポンスで確認

Gemini APIのレスポンスには、使用したトークン数が含まれている場合があります。

---

## 📊 トークン数の計算方法

### 日本語テキストの場合

- **1文字 ≈ 1トークン**（概算）
- 例: 「YouTubeチャンネル「Shin Coding Tutorial」の詳細情報を探してください。」= 約30トークン

### JSONレスポンスの場合

- **JSON構造 + テキスト内容**で計算
- 例: 3件の要約（各200文字）+ JSON構造 = 約500-1,000トークン

---

## ⚠️ 注意事項

### 無料プランの制限

- **1日1,500リクエスト**まで
- このアプリの使用量: 1日10-20リクエスト程度
- **無料プランで十分**

### 有料プランへの移行

- 無料プランの制限に達した場合のみ必要
- 月間料金は非常に安価（約15円/月）

### Google Search grounding機能

- この機能を使用すると、トークン数が増える可能性があります
- ただし、料金への影響は微々たるものです

---

## 🎯 まとめ

### 料金の目安

- **無料プラン**: $0（無料）
- **有料プラン**: 約$0.10/月（約15円/月）

### トークン数の目安

- **チャンネル追加**: 約150-300トークン/回
- **動画スキャン**: 約700-1,400トークン/回
- **月間**: 約423,000トークン/月

### 結論

- **無料プランで十分**
- 有料プランでも非常に安価
- 料金を気にする必要はほとんどありません

---

## 📝 参考リンク

- [Gemini API Pricing](https://ai.google.dev/pricing)
- [Google AI Studio](https://aistudio.google.com/app/apikey)
- [Google Cloud Console](https://console.cloud.google.com)


